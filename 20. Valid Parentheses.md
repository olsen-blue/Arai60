##Step1
- あんまり手段から入るのは良くないかもですが、数少ないスタックの問題であり、練習もしたいのでスタックで解きたい。
- sのループ中に、左カッコが出現したらスタックに積み上げ、右カッコが出てきたらスタックの一番上を取得・対応するものかどうかの確認、をすればいけそう。

- 実装。とりあえずAC.
- elseの後で、まずstackの空チェックが必要であると理解。未チェックで先に、stack[-1]を呼ぶと範囲外アクセスエラーとなる場合があるので、ここに注意しなければと感じた。
- このような「エッジケースをまず優先して考えて排除しておく」といった思考は、他の問題でも大事そうなので、引き続き意識したいところ。（と思いつつも抜けがち・・・）
```python
class Solution:
    def isValid(self, s: str) -> bool:
        stack = []
        for c in s:
            if c == '(' or c == '{' or c == '[':
                stack.append(c)
            else:
                if len(stack) == 0: return False                #stackの空チェックを最初後ろの方でしていて、範囲外アクセスのRunTime Error
                if c == ')' and stack[-1] != '(': return False
                if c == '}' and stack[-1] != '{': return False
                if c == ']' and stack[-1] != '[': return False
                stack.pop()

        if len(stack) == 0:
            return True
        else:
            return False
```
#Step2
- 他の方のPR見てみる。直近のものを５件ほど拝見。
- このPRのコメントが良い感じ。
https://github.com/katataku/leetcode/pull/6/commits/65829f8db9de8773ac999b71ae66c7b99cb2ffe2
 - 「if c in "({[":」の利用
 - 「implicit false」の利用

- あと、スタックからの「取得->削除」はほぼセットではという感覚があるので、「.pop()」により一気にやることにした。
 - （参考）スタックではなく、キューの話ですが、例えば２次元グリッドでのBFSのソースコードでも、「取得」直後に「削除」してしまうのはよくある気がするので、同じ感覚かなと感じました。
- 結果的に、文字数が少なくコンパクトになり、かなり嬉しい。
```python
class Solution:
    def isValid(self, s: str) -> bool:
        stack = []

        for char in s:
            if char in '({[':           #"({["でも、同じらしい。
                stack.append(char)
            else:
                if not stack: return False
                if char == ')' and stack.pop(-1) != '(': return False
                if char == '}' and stack.pop(-1) != '{': return False
                if char == ']' and stack.pop(-1) != '[': return False
        
        return not stack
```

#Step3
- 簡潔なコードは頭にスッと入ってくれる感覚があり、それが嬉しい。

```python
class Solution:
    def isValid(self, s: str) -> bool:
        stack = []

        for char in s:
            if char in '({[':
                stack.append(char)
            else:
                if not stack: return False
                if char == ')' and stack.pop(-1) != '(': return False
                if char == '}' and stack.pop(-1) != '{': return False
                if char == ']' and stack.pop(-1) != '[': return False
        
        return not stack

```
#Step4
- 問題を解くだけでなく、ソフトウェアエンジリアリングの観点で、意図しない入力にも対応できる方が良い、とのことだったので、修正にトライ。
https://github.com/olsen-blue/Arai60/pull/6#discussion_r1904177090

- 最初問題を解く時には、問題文の記述から「左カッコ」VS「右カッコ」という、２項対立を自然と自分の中に描いていたため自然とifとelseを思いついたのですが、今回の修正のように、意図しない入力を想定するのであれば、下記のようにcontinueを使い、ifのインデントを下げる記述がしっくりときました。
- odaさん、アドバイスいただきありがとうございました。

```python
class Solution:
    def isValid(self, s: str) -> bool:
        stack = []

        for char in s:
            if char in '({[':
                stack.append(char)
                continue

            if char not in ')}]':
                return False
            if not stack:
                return False
            
            if char == ')' and stack.pop() != '(':
                return False
            if char == '}' and stack.pop() != '{':
                return False
            if char == ']' and stack.pop() != '[':
                return False
        
        return not stack
```


